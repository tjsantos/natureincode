<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nature in Code Simulations</title>
    <style>
        body {
            font-family: "Open Sans", Arial, Helvetica, Sans-Serif;
            line-height: 1.6;
        }
        .container {
            max-width: 730px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }
        article {
            border-top: 1px solid black;
            margin-bottom: 40px;
        }
    </style>
    <script defer src="https://d3js.org/d3.v4.min.js"></script>
    <script defer src="helpers.js"></script>
    <script defer src="main.js"></script>
</head>
<body>
<div class="container">
    <h1><a href="http://www.natureincode.com/">Nature in Code</a> Simulations</h1>
<article id="geneticDrift">
    <h2>Genetic Drift</h2>
    <p>
        This graph shows the frequency of a neutral allele (p) over time,
        based on a "one locus, two alleles" model.
    </p>
    <p id="geneticDriftChart"></p>
    <form>
        <p>
            <label>Population Size: <input name="populationSize" type="number" value="1000" min="0"></label>
            <label>Generations: <input name="generations" type="number" value="1000" min="0"></label>
            <button name="run" type="button">Run</button>
        </p>
    </form>
</article>
<article id="migration">
    <h2>Migration</h2>
    <p>
        When individuals mate with genetically similar individuals, inbreeding is the consequence.
        In this stochastic, individual-based spatial simulation, individuals can only mate with their immediate local neighbors.
        This results in a reduction in heterozygosity, measured by the inbreeding coefficent F
        (the fractional difference of observed heterozygotes from that expected from universal mating).
    </p>
    <p id="migrationGrid"></p>
    <p id="migrationInfo"></p>
    <form>
        <p>
            <label>Mating Distance: <output for="matingDistance">1</output><input id="matingDistance" name="matingDistance" type="range" min="1" max="37" step="1" value="1"></label>
        </p>
        <p>
            <label>Interval (seconds): <output for="interval">0.2</output><input id="interval" name="interval" type="range" min="0.05" max="0.5" step="0.05" value="0.2"></label>
        </p>
        <p>
            <button id="migrationRestart" type="button">Restart</button>
            <button id="migrationPause" type="button">Pause/Play</button>
        </p>
    </form>
</article>
<article id="epidemics">
    <h2>Epidemics</h2>
    <p>
        This is a spatial simulation of an epidemic using the SIR (susceptible, infected, recovered) model.
        It also implements the small world property by which a small fraction of contacts between infected and susceptible individuals occurs at random.
    </p>
    <p id="epidemicsGrid"></p>
    <form>
        <label>Interval (seconds): <input name="epidemicsInterval" type="number" min=".05" max="1" step=".05" value=".1"></label>
        <button id="epidemicsRestart" type="button">Restart</button>
        <button id="epidemicsPause" type="button">Pause/Play</button>
    </form>
</article>
</div>
</body>
</html>